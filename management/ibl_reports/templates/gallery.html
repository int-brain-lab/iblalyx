{% extends "admin/base_site.html" %}
{% load jobs_template_tags %}


{% block extrahead %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/simplelightbox/2.7.0/simple-lightbox.css" integrity="sha512-8WAX0xL/cHZ38RXoX2gtuqkAwmDVAzGwoFVmHvn46IDHGWOjTHx0vcl9OapNrfOzpFtql0SNkv+0y0b5Fm8ZkA==" crossorigin="anonymous" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/simplelightbox/2.7.0/simple-lightbox.min.js" integrity="sha512-ZajFBgnksNp8Rj+AbmYe8ueOu45HiSjtf3QpqnRbHlq719m6VK0FkbYIqQ8wEnlVuJ1i9pC+z6Z9ewmDnUTMCg==" crossorigin="anonymous"></script>

    <style>
        div.overall_gallery {
            padding-top: 30px;
            padding-bottom: 30px;
        }

        div.gallery img {
          width: 100%;
          height: auto;
          opacity: 1;
          display: block;
          transition: .5s ease;
          backface-visibility: hidden;
        }


        div.desc {
          padding: 15px;
          text-align: center;
        }

        * {
          box-sizing: border-box;
        }

        .responsive {
          padding: 0 6px;
          float: left;
          width: 24.99999%;
          position: relative;
        }

        @media only screen and (max-width: 700px) {
          .responsive {
            width: 49.99999%;
            margin: 6px 0;
          }
        }

        @media only screen and (max-width: 500px) {
          .responsive {
            width: 100%;
          }
        }

        .clearfix:after {
          content: "";
          display: table;
          clear: both;
        }

        div.gallery:hover img {
          -webkit-transform: scale(1.05);
          -moz-transform: scale(1.05);
          -o-transform: scale(1.05);
          -ms-transform: scale(1.05);
          transform: scale(1.1);
          opacity: 0.5;
        }

        div.gallery:hover .middle {
          opacity: 1;
        }

        div.gallery {
            position:relative;
        }

        div.gallery .middle {
          transition: .5s ease;
          opacity: 0;
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          -ms-transform: translate(-50%, -50%);
          text-align: center;
        }

        .text {
          color: gray;
          font-size: 16px;
          padding: 16px 32px;
        }
    </style>
{% endblock extrahead %}

{% block content %}

<h2>Responsive Image Gallery</h2>
<div class="row">
    <div class="col">
	<div class="card card-body">
	<form method="get">
           {{photoFilter.form}}
        <button class="btn btn-primary" type="submit">Search</button>
	</form>
	</div>
    </div>
</div>


<div class="overall_gallery">
    {% for note in object_list %}
        <div class="responsive">
          <div class="gallery">
            <a href="{{ MEDIA_ROOT }}{{ note.image.url }}">
              <img src="{{ MEDIA_ROOT }}{{ note.image.url }}" title="{{ note.content_object }} {{ note.text }}" class="image">
              <div class="middle">
                <div class="text">{{ note.content_object }}</div>
              </div>
            </a>
          </div>
        </div>
        {% if forloop.counter|divisibleby:4 or forloop.last%}
            <div class="clearfix"></div>
        {% endif %}

    {%  endfor %}

</div>
    <script>
        var gallery = new SimpleLightbox('.overall_gallery a', {'captionPosition': 'outside'});
    </script>


<div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <a href="?{% param_replace page=1 %}">&laquo; first</a>
            <a href="?{% param_replace page=page_obj.previous_page_number %}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
            <a href="?{% param_replace page=page_obj.next_page_number %}">next</a>
            <a href="?{% param_replace page=paginator.num_pages %}">last &raquo;</a>
        {% endif %}
    </span>
</div>

{% endblock content %}